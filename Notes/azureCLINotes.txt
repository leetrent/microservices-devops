$ az --version

$ az acr login --name shoppingacr
Login Succeeded


# List Azure Locations
$ az account list-locations -o table

# Create Azure Resource Group
az group create -l centralus -n MyResourceGroup

# Create Azure Container Registry
$ az acr create --resource-group myResourceGroup --name shoppingacr --sku Basic

# Enable Admin User Account
$ az acr update -n shoppingacr --admin-enabled true

$ az acr list --resource-group myResourceGroup --query "[].{acrLoginServer:loginServer}" --output table
AcrLoginServer
----------------------
shoppingacr.azurecr.io

$ docker tag shoppingapi:latest shoppingacr.azurecr.io/shoppingapi:v1
shoppingacr.azurecr.io/shoppingapi      v1                                                      d148712d49a1

$ docker tag shoppingclient:latest shoppingacr.azurecr.io/shoppingclient:v1
shoppingacr.azurecr.io/shoppingclient   v1                                                      ec7b18504827

$ docker push shoppingacr.azurecr.io/shoppingapi:v1
v1: digest: sha256:a405c5680d2f6f03ecbaa7014d3962b66b88b5fe1435486fe81d0fc09e0ebe5e size: 1995

$ docker push shoppingacr.azurecr.io/shoppingclient:v1
v1: digest: sha256:7db3dc8bdcfc412b423ecf04e8031f8bf58ed89b1f85a2d1d0d1e60707cf554c size: 1995

$ az acr repository list --name shoppingacr --output table
Result
--------------
shoppingapi
shoppingclient

$ az acr repository show-tags --name shoppingacr --repository shoppingclient --output table
Result
--------
v1

$ az aks create --resource-group myResourceGroup --name myAKSCluster --node-count 1 --generate-ssh-keys --attach-acr shoppingacr
SSH key files 'C:\Users\Lee\.ssh\id_rsa' and 'C:\Users\Lee\.ssh\id_rsa.pub' have been generated under ~/.ssh to allow SSH access to the VM. If using machines without permanent storage like Azure Cloud Shell without an attached file share, back up your keys to a safe location



